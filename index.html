<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Personal Expense Tracker</title>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <!-- Header with title, auth info, and dark mode toggle -->
    <header>
      <h1>ğŸ’° Expense Tracker</h1>
      <div class="auth-section">
        <div class="user-info" id="userInfo" style="display: none;">
          <span class="user-email" id="userEmail"></span>
          <button id="logoutBtn" class="btn-secondary">Logout</button>
        </div>
        <button id="darkModeToggle" class="dark-mode-toggle">
          <span id="darkModeText">ğŸŒ™ Dark</span>
        </button>
      </div>
    </header>

    <!-- Main content (shown when user is logged in) -->
    <main id="mainContent" style="display: none;">
      <!-- Dashboard with financial summary -->
      <section class="dashboard">
        <div class="dashboard-card">
          <h3>Salary</h3>
          <div class="card-value" id="salaryValue">$0.00</div>
          <input type="number" id="salaryInput" placeholder="Enter salary" step="0.01" min="0">
          <button onclick="updateSalary()" class="btn-success" style="margin-top: 10px;">Update</button>
        </div>

        <div class="dashboard-card">
          <h3>Carry-Over</h3>
          <div class="card-value" id="carryOverValue">$0.00</div>
          <input type="number" id="carryOverInput" placeholder="Enter carry-over" step="0.01" min="0">
          <button onclick="updateCarryOver()" class="btn-success" style="margin-top: 10px;">Update</button>
        </div>

        <div class="dashboard-card">
          <h3>Savings</h3>
          <div class="card-value" id="savingsValue">$0.00</div>
          <input type="number" id="savingsInput" placeholder="Enter savings" step="0.01" min="0">
          <button onclick="updateSavings()" class="btn-success" style="margin-top: 10px;">Update</button>
        </div>

        <div class="dashboard-card">
          <h3>Total Available</h3>
          <div class="card-value card-positive" id="totalAvailable">$0.00</div>
          <p>Salary + Carry-Over - Savings</p>
        </div>

        <div class="dashboard-card">
          <h3>Total Spent</h3>
          <div class="card-value" id="totalSpent">$0.00</div>
        </div>

        <div class="dashboard-card">
          <h3>Remaining Balance</h3>
          <div class="card-value card-positive" id="remainingBalance">$0.00</div>
        </div>
      </section>

      <!-- Form to add new expenses -->
      <section class="form-section">
        <h2>â• Add New Expense</h2>
        <div class="form-grid">
          <div class="form-group">
            <label for="expenseAmount">Amount ($)</label>
            <input type="number" id="expenseAmount" placeholder="0.00" step="0.01" min="0.01">
          </div>

          <div class="form-group">
            <label for="expenseDescription">Description</label>
            <input type="text" id="expenseDescription" placeholder="What did you spend on?">
          </div>

          <div class="form-group">
            <label for="expenseCategory">Category</label>
            <select id="expenseCategory">
              <option value="Food">Food</option>
              <option value="Transportation">Transportation</option>
              <option value="Personal">Personal</option>
              <option value="Emergency">Emergency</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="expenseDate">Date</label>
            <input type="date" id="expenseDate">
          </div>
        </div>
        <button onclick="addExpense()" class="btn-primary">Add Expense</button>
        <div class="error-message" id="expenseError"></div>
        <div class="success-message" id="expenseSuccess"></div>
      </section>

      <!-- Expenses lists -->
      <section class="expenses-section">
        <div class="expenses-card">
          <h2>ğŸ“‹ Recent Expenses (Last 5)</h2>
          <ul class="expenses-list" id="recentExpensesList">
            <!-- Recent expenses will be dynamically added here -->
            <li class="expense-item empty-message">No expenses added yet</li>
          </ul>
        </div>

        <div class="expenses-card">
          <h2>ğŸ“Š All Expenses</h2>
          <ul class="expenses-list" id="allExpensesList">
            <!-- All expenses will be dynamically added here -->
            <li class="expense-item empty-message">No expenses added yet</li>
          </ul>
          <button onclick="clearAllExpenses()" class="btn-danger" style="margin-top: 20px; width: 100%;">Clear All
            Expenses</button>
        </div>
      </section>
    </main>

    <!-- Authentication forms (shown when user is not logged in) -->
    <div id="authContent" class="auth-forms">
      <div class="auth-card">
        <h2>ğŸ” Login / Register</h2>
        <div class="auth-form">
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" placeholder="your@email.com">
          </div>

          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" placeholder="At least 6 characters">
          </div>

          <button onclick="login()" class="btn-primary" style="width: 100%; margin-bottom: 15px;">Login</button>
          <button onclick="register()" class="btn-secondary" style="width: 100%;">Register</button>

          <div class="error-message" id="authError"></div>
          <div class="success-message" id="authSuccess"></div>
        </div>
      </div>
    </div>
  </div>
<script src="main.js"></script>
</body>
</html>
